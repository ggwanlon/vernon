<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <style>
    :root {
      --primary: #1d9bf0;
      --danger: #f4212e;
      --bg: #f7f9f9;
      --card: #ffffff;
      --border: #eff3f4;
      --text: #0f1419;
      --muted: #536471;
    }
    body{
      width:340px;
      margin:0;
      padding:16px;
      background:var(--bg);
      color:var(--text);
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
      box-sizing:border-box;
    }
    .card{
      background:var(--card);
      border-radius:16px;
      padding:16px;
      box-shadow:0 2px 8px rgba(0,0,0,.05);
      margin-bottom:12px;
    }
    h3{
      margin:0 0 12px 0;
      font-size:16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
    }
    .badge{
      font-size:12px;
      padding:4px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      color:var(--muted);
      background:#fff;
    }
    .badge.running{ border-color:#00b894; color:#00b894; background:#e6fffa; }
    .badge.stopped{ border-color:#ff7675; color:#ff7675; background:#fff5f5; }

    label{ display:block; font-size:12px; font-weight:700; color:var(--muted); margin-top:10px; }
    label:first-child{ margin-top:0; }
    input,textarea{
      width:100%;
      box-sizing:border-box;
      border:1px solid var(--border);
      border-radius:10px;
      padding:9px 10px;
      margin-top:6px;
      font-size:13px;
      outline:none;
      background:#fff;
      color:var(--text);
    }
    input:focus,textarea:focus{ border-color:var(--primary); }
    textarea{ height:78px; resize:vertical; }

    .row{
      display:flex; justify-content:space-between; align-items:center;
      font-size:14px;
    }
    .value{ font-weight:900; color:var(--primary); font-size:16px; }

    .error{
      margin-top:10px;
      font-size:12px;
      color:var(--danger);
      line-height:1.35;
      display:none;
    }

    .actionWrap{ display:flex; justify-content:center; margin-top:10px; }
    #toggleBtn{
      width:78px; height:78px; border-radius:50%;
      border:none; cursor:pointer; color:#fff; font-weight:900;
      background:var(--primary);
      box-shadow:0 8px 18px rgba(29,155,240,.28);
    }
    #toggleBtn.stop{ background:var(--danger); box-shadow:0 8px 18px rgba(244,33,46,.22); }
    #toggleBtn:active{ transform:scale(.98); }

    .foot{ margin-top:10px; font-size:11px; color:#8899a6; text-align:center; line-height:1.35; }
  </style>
</head>
<body>
  <div class="card">
    <h3>配置 <span id="badge" class="badge stopped">已停止</span></h3>

    <label>API 网关 BaseUrl</label>
    <input id="apiUrl" placeholder="https://api.openai.com/v1" />

    <label>API Key</label>
    <input id="apiKey" type="password" placeholder="sk-..." />

    <label>模型 Model</label>
    <input id="modelName" placeholder="gpt-3.5-turbo" />

    <label>系统指令 System Prompt</label>
    <textarea id="systemPrompt"></textarea>

    <div id="error" class="error"></div>
  </div>

  <div class="card" style="padding:12px 16px;">
    <div class="row">
      <span>累计评论次数</span>
      <span id="count" class="value">0</span>
    </div>
  </div>

  <div class="actionWrap">
    <button id="toggleBtn">启动</button>
  </div>

  <div class="foot">
    评论成功后等待 20–40 秒再处理下一条<br/>
    如重载扩展，请在 X 页面按 F5 刷新一次
  </div>

  <script src="popup.js"></script>
</body>
</html>
